<!DOCTYPE html>
<html lang="pt">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MazeRush - N√≠veis</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="levels-body">
    <header class="levels-header">
      <button onclick="history.back()" class="back-button">‚Üê</button>
      <h1 class="levels-title">
        MazeRush <span style="opacity: 0.6">‚Äî N√≠veis</span>
      </h1>
      <button id="reset-btn" class="reset-button">‚ü≥ Reiniciar</button>
    </header>

    <main class="categories">
      <div class="section-heading">
        <h2>Campanha</h2>
        <div class="section-line"></div>
      </div>
      <div id="levels-container" class="levels-grid"></div>
    </main>

    <script type="module">
      import { isLevelUnlocked, resetProgress } from "./js/unlockSystem.js";

      const levels = [
        { name: "N√≠vel 1", id: "level-1" },
        { name: "N√≠vel 2", id: "level-2" },
        { name: "N√≠vel 3", id: "level-3" },
        { name: "N√≠vel 4", id: "level-4" },
        { name: "N√≠vel 5", id: "level-5" },
        { name: "N√≠vel 6", id: "level-6" },
      ];

      const container = document.getElementById("levels-container");

      levels.forEach((level) => {
        const card = document.createElement("div");
        card.className = "level-card";
        card.setAttribute("data-level", level.name.split(" ")[1]);

        const name = document.createElement("span");
        name.textContent = level.name;
        card.appendChild(name);

        const button = document.createElement("button");
        if (isLevelUnlocked(level.id)) {
          button.textContent = "‚ñ∂ Jogar";
          button.className = "play-button";
          button.onclick = () => {
            localStorage.setItem("selectedLevel", level.id);
            window.location.href = "game.html";
          };
        } else {
          button.textContent = "üîí Bloqueado";
          button.className = "locked-button";
          button.disabled = true;
        }

        card.appendChild(button);
        container.appendChild(card);
      });

      document.getElementById("reset-btn").addEventListener("click", () => {
        if (confirm("Desejas reiniciar o progresso?")) {
          resetProgress();
          location.reload();
        }
      });
    </script>

    
  </body>
</html>
